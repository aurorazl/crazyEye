
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Expanded Navigation | Nifty - Responsive admin template.</title>

	<!--STYLESHEET-->
	<!--=================================================-->

	<!--Bootstrap Stylesheet [ REQUIRED ]-->
	<link href="/static/css/bootstrap.min.css" rel="stylesheet">

	<!--Nifty Stylesheet [ REQUIRED ]-->
	<link href="/static/css/nifty.min.css" rel="stylesheet">
	<link href="/static/css/nifty.demo.css" rel="stylesheet">

	<!--Font Awesome [ OPTIONAL ]-->
	<link href="/static/css/font-awesome.min.css" rel="stylesheet">
    <!--Customize Css [ REQUIRED ]-->
	<link href="/static/css/custom.css" rel="stylesheet">
    <!--bootstrap select Css [ REQUIRED ]-->
	<link href="/static/plugins/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
	<link href="/static/plugins/jquery-ui/jquery-ui.min.css" rel="stylesheet">
	<link href="/static/plugins/bootstrap-fileinput/css/fileinput.min.css" rel="stylesheet">

    <!--Bootstrap Timepicker [ OPTIONAL ]-->
    <link href="/static/plugins/bootstrap-timepicker/bootstrap-timepicker.min.css" rel="stylesheet">


    <!--Bootstrap Datepicker [ OPTIONAL ]-->
    <link href="/static/plugins/bootstrap-datepicker/bootstrap-datepicker.css" rel="stylesheet">

    <link rel="stylesheet" href="/static/plugins/jquery-ui/jquery-ui.theme.min.css">
	<!--SCRIPT-->
	<!--=================================================-->
	<!--Page Load Progress Bar [ OPTIONAL ]-->
	<link href="/static/css/pace.min.css" rel="stylesheet">
	<script src="/static/js/pace.min.js"></script>
    {% block top-css %}{% endblock %}
	<!--

	REQUIRED
	You must include this in your project.

	RECOMMENDED
	This category must be included but you may modify which plugins or components which should be included in your project.

	OPTIONAL
	Optional plugins. You may choose whether to include it in your project or not.


	Detailed information and more samples can be found in the document.

	-->


</head>

<!--TIPS-->
<!--You may remove all ID or Class names which contain "demo-", they are only used for demonstration. -->

<body>

    {% block body %}
            body ....
    {% endblock %}


	<!--JAVASCRIPT-->
	<!--=================================================-->

	<!--jQuery [ REQUIRED ]-->
	<script src="/static/js/jquery-2.1.1.min.js"></script>


	<!--BootstrapJS [ RECOMMENDED ]-->
	<script src="/static/js/bootstrap.min.js"></script>


	<!--Fast Click [ OPTIONAL ]-->
	<script src="/static/js/fastclick.min.js"></script>
    <script src="/static/plugins/js.cookie.js"></script>
    <script src="/static/plugins/highstock/js/highstock.js"></script>
    <script src="/static/plugins/jquery-ui/jquery-ui.min.js"></script>
	<script src="/static/js/nifty.min.js"></script>
    <script src="/static/plugins/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script>

            $(document).ready(function(){
                //var csrftoken = $.cookie('csrftoken');
                var csrftoken = Cookies.get('csrftoken');   //cookie中同样存在csrftoken，不止表单

                function csrfSafeMethod(method) {
                    // these HTTP methods do not require CSRF protection
                    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
                }
                $.ajaxSetup({
                    beforeSend: function(xhr, settings) {
                        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                            xhr.setRequestHeader("X-CSRFToken", csrftoken);
                        }
                    }
                });
                // 为当前页的菜单添加active class
                $active = $("#mainnav-menu li").find("a[href='{{ request.path }}']");
                $active.parent().parent().parent().addClass("active");
                $("#mainnav-menu li").find("a[href='{{ request.path }}']").parent().addClass("active-link");//对于url？参数部分，会匹配不成功，将参数放在view里面处理即可
                    // using jQuery
            })
    </script>
    {% block bottom-js %}{% endblock %}

	<!--

	REQUIRED
	You must include this in your project.

	RECOMMENDED
	This category must be included but you may modify which plugins or components which should be included in your project.

	OPTIONAL
	Optional plugins. You may choose whether to include it in your project or not.


	Detailed information and more samples can be found in the document.

	-->

    {% include 'session_security/all.html' %}
</body>
</html>
